<div class="row">


    <!-- Start -->

    <!-- Grid Box Starts -->
    <div class="col-xl-12">

        <div class="row">
            <div class="col-xl-8 col-lg-9 mx-auto">


                <!-- Start Header -->
                <div class="form-group form-row">
                    <div class="col-12">
                        <mat-card>
                            <p class="system-name">DISPATCHING PREPARED ORDERS
                                <mat-icon matBadge="{{totalPoRowCount | number}}" matBadgeColor="primary"></mat-icon>
                            </p>

                        </mat-card>

                        <h2>

                            <i class="fa fa-circle-o-notch fa-spin" style="font-size:34px" *ngIf="showLoading"></i>

                        </h2>
                    </div>

                </div>
                <br>
                <!-- End of Header -->


                <!-- Start of Search -->
                <mat-card>
                    <div class="col-xl-12 mx-auto">
                        <div class="form-group form-row">

                            <div class="col-6 mb-4" system-name>
                                <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                    <mat-select id="drpSearchBy" name="SearchBy" [(ngModel)]="searchBy"
                                        (selectionChange)="HideSearchBtn($event)">

                                        <mat-option value="is_approved_prepa_date">Preparation Date</mat-option>
                                        <mat-option value="category">Category</mat-option>
                                        <mat-option value="store_name">Store</mat-option>
                                        <mat-option value="route">Route</mat-option>
                                        <mat-option value="area">Area</mat-option>

                                    </mat-select>
                                    <mat-label>Search by</mat-label>
                                    <mat-hint align="end">Choose a Filter</mat-hint>
                                    <mat-icon matPrefix>zoom_in</mat-icon>
                                </mat-form-field>
                            </div>



                            <div class="col-3 float-right hideObject system-name" id="SearchBtnDetailed">
                                <!-- id="SearchBtnDetailed"> -->
                                <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                    <input type="text" matInput placeholder="Enter Some Data" id="txtSearchText"
                                        name="SearchText" [(ngModel)]="searchText" (keyup)="onSearchTextKeyup($event)">

                                    <mat-label>Search</mat-label>
                                    <mat-hint align="end">Search description</mat-hint>
                                    <mat-icon matPrefix>search</mat-icon>
                                </mat-form-field>

                            </div>


                        </div>
                    </div>
                    <!-- End Search -->


                    <table class="table table-striped table-bordered nowrap table-responsive-xl" style="width:100%">
                        <thead>
                            <tr class="text-light header-bg-color-um system-name">
                                <th>Order No.</th>

                                <th>Preparation Date

                                </th>
                                <!-- <th>PO&nbsp;Date
          
                </th> -->
                                <th>Category
                                    <!-- <i class="fa fa-sort hand-icon" *ngIf="sortBy != 'countryName'" (click)="sortBy = 'countryName'; sortOrder = 'ASC' "></i>
    
                  <i class="fa fa-sort-up hand-icon text-primary" *ngIf="sortBy == 'countryName' && sortOrder == 'ASC'" (click)="sortOrder = 'DESC' "></i>
    
                  <i class="fa fa-sort-down hand-icon text-primary" *ngIf="sortBy == 'countryName' && sortOrder == 'DESC'" (click)="sortOrder = 'ASC' "></i>
                 -->
                                </th>

                                <th>Fox

                                </th>
                                <th>Store

                                </th>
                                <th>Route
                                </th>
                                <th>Area

                                </th>
                                <th>Total Item(s)

                                </th>

                                <th class="text-center">Action</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let project of projects | filter: searchBy : searchText | paging : currentPageIndex : pageSize; let i = index">
                                <td>{{project.wh_checker_move_order_no | number:'1.0':'en-US'}}</td>
                                <td>{{project.is_approved_prepa_date}}</td>
                                <!-- <td>{{project.po_date  | date:'dd-MMM-yyyy'}}</td> -->
                                <td>{{project.category}}</td>
                                <td>{{project.fox}}</td>
                                <td>{{project.store_name}}</td>
                                <td>{{project.route}}</td>
                                <!-- td>{{project.qty_order | number:'1.0':'en-US'}}</td> -->
                                <td>{{project.area}}</td>
                                <td>{{project.total_state_repack | number:'1.0':'en-US'}}</td>

                                <td class="text-center">

                                    <button mat-icon-button color="black" (click)="onEditClick($event, i)"
                                        data-toggle="modal" data-target="#editModal" data-backdrop="false" title="Edit"
                                        data-keyboard="false">
                                        <mat-icon>remove_red_eye</mat-icon>
                                    </button>&nbsp;


                                </td>
                            </tr>
                        </tbody>
                    </table>
                </mat-card>
            </div>
        </div>
    </div>
    <!-- Grid Box Ends -->

    <!-- Paging Box Starts -->
    <div class="col-12">
        <ul class="pagination justify-content-center mt-1">
            <li class="page-item" (click)="onPageIndexClicked(currentPageIndex - 1)">
                <a mat-stroked-button color="primary" class="mr-1 font-color-black" href="#"
                    onclick="return false">Prev</a>
            </li>

            <ng-container *ngIf="pages.length <= 10">
                <li class="page-item" *ngFor="let page of pages"
                    [ngClass]="{ 'link-active-paging': page.pageIndex == currentPageIndex}"
                    (click)="onPageIndexClicked(page.pageIndex)">
                    <a class="page-link" href="#" onclick="return false">{{page.pageIndex + 1}}</a>
                </li>
            </ng-container>

            <ng-container *ngIf="pages.length > 10">
                <li class="page-item" [ngClass]="{ 'link-active-paging': currentPageIndex == 0}"
                    (click)="onPageIndexClicked(0)">
                    <a class="page-link" href="#" onclick="return false">1</a>
                </li>

                <li class="page-item" [ngClass]="{ 'link-active-paging': currentPageIndex == 1}"
                    (click)="onPageIndexClicked(1)">
                    <a class="page-link" href="#" onclick="return false">2</a>
                </li>

                <li *ngIf="currentPageIndex > 1 && currentPageIndex < pages.length - 2">&nbsp;...&nbsp;</li>

                <li class="page-item" [ngClass]=" 'link-active-paging' " (click)="onPageIndexClicked(currentPageIndex)"
                    *ngIf="currentPageIndex > 1 && currentPageIndex < pages.length - 2">
                    <a class="page-link" href="#" onclick="return false">{{currentPageIndex + 1}}</a>
                </li>

                <li>&nbsp;...&nbsp;</li>

                <li class="page-item" [ngClass]="{ 'link-active-paging': currentPageIndex == pages.length - 2}"
                    (click)="onPageIndexClicked(pages.length - 2)">
                    <a class="page-link" href="#" onclick="return false">{{pages.length - 1}}</a>
                </li>

                <li class="page-item" [ngClass]="{ 'link-active-paging': currentPageIndex == pages.length - 1}"
                    (click)="onPageIndexClicked(pages.length - 1)">
                    <a class="page-link" href="#" onclick="return false">{{pages.length}}</a>
                </li>
            </ng-container>

            <li class="page-item" (click)="onPageIndexClicked(currentPageIndex + 1)">
                <a mat-stroked-button color="primary" class="ml-1 font-color-black" href="#"
                    onclick="return false">Next</a>
            </li>
        </ul>
    </div>
    <!-- Paging Box Ends -->


    <!-- END -->
</div>

<form #newForm="ngForm" novalidate="novalidate" appClientLocationStatusValidator>
    <div class="modal" role="dialog" id="newModal">
        <div class="modal-dialog">
            <div class="modal-content" style="width:auto">
                <div class="modal-header bg-primary text-white">
                    <div class="modal-title">New Projects</div>
                    <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
                </div>
                <div class="modal-body">

                    <div class="form-group row">
                        <label for="txtNewProjectID" class="col-sm-4 col-form-label">Project ID</label>
                        <div class="col-sm-8">
                            <input type="text" id="txtNewProjectID" style="width:130px" class="form-control"
                                placeholder="Project ID" name="ProjectID" [(ngModel)]="newProject.projectID"
                                required="required" pattern="^[0-9]*$" appProjectIDUniqueValidator
                                #newProjectID="ngModel" #prjID
                                [ngClass]="{ 'is-invalid': newProjectID.invalid && (newProjectID.dirty || newProjectID.touched || newForm.submitted), 'is-valid': newProjectID.valid && (newProjectID.dirty || newProjectID.touched || newForm.submitted) }">

                            <span class="text-danger"
                                *ngIf="newProjectID.invalid && (newProjectID.dirty || newProjectID.touched || newForm.submitted) && newProjectID.errors?.required">Project
                                ID can't be blank</span>

                            <span class="text-danger"
                                *ngIf="newProjectID.invalid && (newProjectID.dirty || newProjectID.touched || newForm.submitted) && newProjectID.errors?.pattern">Project
                                ID should contain numbers only</span>

                            <span class="text-danger"
                                *ngIf="newProjectID.invalid && (newProjectID.dirty || newProjectID.touched || newForm.submitted) && newProjectID.errors?.uniqueProjectID">Duplicate
                                Project ID</span>

                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="txtNewProjectID" class="col-sm-4 col-form-label">Is Activated</label>
                        <div class="col-sm-8">
                            <input type="text" style="width:auto" class="form-control" name="is_activated" value="1"
                                [(ngModel)]="newProject.is_activated" #newis_activated="ngModel" #IsActivated>


                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="txtNewProjectName" class="col-sm-4 col-form-label">Project Name</label>
                        <div class="col-sm-8">
                            <input type="text" id="txtNewProjectName" class="form-control" placeholder="Project Name"
                                name="ProjectName" [(ngModel)]="newProject.projectName" required="required"
                                minlength="3" maxlength="30" pattern="^[A-Za-z0-9 /-]*$" #newProjectName="ngModel"
                                [ngClass]="{ 'is-invalid': newProjectName.invalid && (newProjectName.dirty || newProjectName.touched || newForm.submitted), 'is-valid': newProjectName.valid && (newis_activated.dirty || newProjectName.touched || newForm.submitted) }">

                            <span class="text-danger"
                                *ngIf="newProjectName.invalid && (newProjectName.dirty || newProjectName.touched || newForm.submitted) && newProjectName.errors?.required">Project
                                Name can't be blank</span>

                            <span class="text-danger"
                                *ngIf="newProjectName.invalid && (newProjectName.dirty || newProjectName.touched || newForm.submitted) && newProjectName.errors?.pattern">Project
                                Name can contain alphabets, digits, dot, hyphen or space only</span>

                            <span class="text-danger"
                                *ngIf="newProjectName.invalid && (newProjectName.dirty || newProjectName.touched || newForm.submitted) && newProjectName.errors?.minlength">Project
                                name should be at least 3 characters long</span>

                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="txtNewDateOfStart" class="col-sm-4 col-form-label">Date of Starts</label>
                        <div class="col-sm-8">
                            <input type="date" id="txtNewDateOfStart" style="width:180px" class="form-control"
                                placeholder="Date of Start" name="DateOfStart" [(ngModel)]="newProject.dateOfStart"
                                required="required" #newDateOfStart="ngModel"
                                [ngClass]="{ 'is-invalid': newDateOfStart.invalid && (newDateOfStart.dirty || newDateOfStart.touched || newForm.submitted), 'is-valid': newDateOfStart.valid && (newDateOfStart.dirty || newDateOfStart.touched || newForm.submitted) }">

                            <span class="text-danger"
                                *ngIf="newDateOfStart.invalid && (newDateOfStart.dirty || newDateOfStart.touched || newForm.submitted) && newDateOfStart.errors?.required">Date
                                of Start can't be blank</span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="txtTeamSize" class="col-sm-4 col-form-label">Team Size</label>
                        <div class="col-sm-8">
                            <input type="text" id="txtTeamSize" style="width:150px" class="form-control"
                                placeholder="Team Size" name="TeamSize" [(ngModel)]="newProject.teamSize"
                                pattern="^[0-9]*$" maxlength="7" appTeamSizeValidator="5" #newTeamSize="ngModel"
                                [ngClass]="{ 'is-invalid': newTeamSize.invalid && (newTeamSize.dirty || newTeamSize.touched || newForm.submitted), 'is-valid': newTeamSize.valid && (newTeamSize.dirty || newTeamSize.touched || newForm.submitted) }">

                            <span class="text-danger"
                                *ngIf="newTeamSize.invalid && (newTeamSize.dirty || newTeamSize.touched || newForm.submitted) && newTeamSize.errors?.required">Team
                                Size should be a number</span>

                            <span class="text-danger"
                                *ngIf="newTeamSize.invalid && (newTeamSize.dirty || newTeamSize.touched || newForm.submitted) && newTeamSize.errors?.divisible">Team
                                Size should be divisble by 5</span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="col-sm-4 col-form-label">&nbsp;</label>
                        <div class="col-sm-8">
                            <div class="form-check">
                                <input type="checkbox" id="chkNewActive" value="true" class="form-check-input"
                                    [(ngModel)]="newProject.active" name="active">
                                <label class="form-check-label" for="chkNewActive">Active</label>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="rbNewStatusInForce" class="col-sm-4">Status</label>
                        <div class="col-sm-8">

                            <div class="form-check form-check-inline">
                                <input type="radio" id="rbNewStatusInForce" value="In Force" class="form-check-input"
                                    name="Status" [(ngModel)]="newProject.status" required="required"
                                    #newStatusInForce="ngModel">
                                <label for="rbNewStatusInForce" class="form-check-label">In Force</label>
                            </div>

                            <div class="form-check form-check-inline">
                                <input type="radio" id="rbNewStatusSupport" value="Support" class="form-check-input"
                                    name="Status" [(ngModel)]="newProject.status" required="required"
                                    #newStatusSupport="ngModel">
                                <label for="rbNewStatusSupport" class="form-check-label">Support</label>
                            </div>

                            <span class="text-danger"
                                *ngIf="newStatusInForce.invalid && (newStatusInForce.dirty || newStatusInForce.touched || newForm.submitted) && newStatusInForce.errors?.required">Please
                                select status</span>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="drpNewClientLocation" class="col-sm-4 col-form-label">Client Location</label>
                        <div class="col-sm-8">
                            <select id="drpNewClientLocation" class="form-control" name="ClientLocation"
                                [(ngModel)]="newProject.clientLocationID" required="required"
                                #newClientLocationID="ngModel"
                                [ngClass]="{ 'is-invalid': newClientLocationID.invalid && (newClientLocationID.dirty || newClientLocationID.touched || newForm.submitted), 'is-valid': newClientLocationID.valid && (newClientLocationID.dirty || newClientLocationID.touched || newForm.submitted) }">
                                <option value="null">Please Select</option>
                                <option *ngFor="let clientLocation of clientLocations | async"
                                    [value]="clientLocation.clientLocationID">
                                    {{clientLocation.clientLocationName}}
                                </option>
                            </select>

                            <span class="text-danger"
                                *ngIf="newClientLocationID.invalid && (newClientLocationID.dirty || newClientLocationID.touched || newForm.submitted) && newClientLocationID.errors?.required">Please
                                client location</span>

                            <span class="text-danger"
                                *ngIf="newForm.invalid && (newForm.dirty || newForm.touched || newForm.submitted) && newForm.errors?.clientLocationStatus">Support
                                projects are not allowed at Tokyo</span>
                        </div>
                    </div>

                </div>
                <div class="modal-footer">
                    <button class="btn btn-warning" data-dismiss="modal" id="newFormCancel">Cancel</button>
                    <button class="btn btn-success" (click)="onSaveClick()">Save</button>
                </div>
            </div>
        </div>
    </div>
</form>


<!-- Edit Project -->
<form #editForm="ngForm" novalidate="novalidate" appClientLocationStatusValidator>
    <div class="modal" role="dialog" id="editModal" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content" style="width: auto;">
                <div class="modal-header bg-all">
                    <div class="modal-title white-color">RECEIVING CHECKLIST</div>
                    <button type="button" class="close" data-dismiss="modal"
                        #closeAddExpenseModal><span>&times;</span></button>
                </div>
                <div class="modal-body">

                    <mat-card>STORE INFORMATION


                    </mat-card>
                    <div class="flex">
                        <div class="box-1">

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">


                                <input type="text" matInput id="txtEditis_approved_prepa_date"
                                    placeholder="Checklist ID" name="is_approved_prepa_date" readonly="readonly"
                                    [(ngModel)]="editProject.is_approved_prepa_date" required="required"
                                    #editPrepaDate="ngModel"
                                    [ngClass]="{ 'is-invalid': editPrepaDate.invalid && (editPrepaDate.dirty || editPrepaDate.touched || newForm.submitted), 'is-valid': editPrepaDate.valid && (editPrepaDate.dirty || editPrepaDate.touched || newForm.submitted) }">
                                <mat-label>Preparation Date</mat-label>

                            </mat-form-field>

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                <input type="text" matInput id="txtEditcategory" placeholder="Category" name="category"
                                    [(ngModel)]="editProject.category" minlength="3" maxlength="30"
                                    pattern="^[A-Za-z0-9 /-]*$" #editcategory="ngModel"
                                    [ngClass]="{ 'is-invalid': editcategory.invalid && (editcategory.dirty || editcategory.touched || editForm.submitted), 'is-valid': editcategory.valid && (editcategory.dirty || editcategory.touched || editForm.submitted) }"
                                    readonly="readonly">
                                <mat-label>Category</mat-label>
                                <!-- <mat-hint align="end">Up to 30 characters</mat-hint> -->
                                <!-- <mat-icon matPrefix>qr_code_scanner<span class="material-icons-outlined">
                                </span></mat-icon> -->
                                <span class="text-danger"
                                    *ngIf="editcategory.invalid && (editcategory.dirty || editcategory.touched || editForm.submitted) && editcategory.errors?.required">Category
                                    can't be blank</span>

                                <span class="text-danger"
                                    *ngIf="editcategory.invalid && (editcategory.dirty || editcategory.touched || editForm.submitted) && editcategory.errors?.pattern">Category
                                    can contain alphabets, digits, dot, hyphen or space only</span>

                                <span class="text-danger"
                                    *ngIf="editcategory.invalid && (editcategory.dirty || editcategory.touched || editForm.submitted) && editcategory.errors?.minlength">Category
                                    should be at least 3 characters long</span>

                            </mat-form-field>

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                <input type="text" matInput id="txtEditroute" placeholder="Route" readonly="readonly"
                                    name="route" [(ngModel)]="editProject.route" minlength="3" maxlength="30"
                                    #editroute="ngModel">
                                <mat-label>Route</mat-label>


                            </mat-form-field>

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary" class="hideObject">
                                <input type="text" matInput id="txtEditis_wh_approved" placeholder="Is Approved"
                                    name="is_wh_approved" [(ngModel)]="editProject.is_wh_approved" minlength="1ng build"
                                    maxlength="30" #editis_wh_approved="ngModel">
                                <mat-label>Approval</mat-label>


                            </mat-form-field>


                            <mat-form-field floatLabel="auto" appearance="standard" color="primary" class="hideObject">
                                <input type="text" matInput id="txtEditis_wh_approved_by" placeholder="Approve By"
                                    name="is_wh_approved_by" [(ngModel)]="editProject.is_wh_approved_by" minlength="3"
                                    maxlength="30" #editis_wh_approved="ngModel">
                                <mat-label>Approve By</mat-label>


                            </mat-form-field>


                            <mat-form-field floatLabel="auto" appearance="standard" color="primary" class="hideObject">
                                <input type="text" matInput id="txtEditis_wh_approved_date" placeholder="Approve Date"
                                    name="is_wh_approved_date" [(ngModel)]="editProject.is_wh_approved_date"
                                    minlength="3" maxlength="30" #editis_wh_approved="ngModel">
                                <mat-label>Approve Date</mat-label>


                            </mat-form-field>



                        </div>

                        <!-- end of box 1-->

                        <div class="box-2">




                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">


                                <input type="text" matInput id="txtEditReceivingDate" value="{{ToDay | date : 'M/d/y'}}"
                                    readonly="readonly" placeholder="Receiving Date">
                                <mat-label>Receiving Date</mat-label>

                            </mat-form-field>



                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                <input type="text" matInput id="txtitem_description" placeholder="Store Name"
                                    name="store_name" [(ngModel)]="editProject.store_name" required="required"
                                    minlength="3" maxlength="30" pattern="^[A-Za-z0-9 /-]*$" #editstore_name="ngModel"
                                    [ngClass]="{ 'is-invalid': editstore_name.invalid && (editstore_name.dirty || editstore_name.touched || editForm.submitted), 'is-valid': editstore_name.valid && (editstore_name.dirty || editstore_name.touched || editForm.submitted) }"
                                    readonly="readonly">
                                <mat-label>Store Name</mat-label>

                                <span class="text-danger"
                                    *ngIf="editstore_name.invalid && (editstore_name.dirty || editstore_name.touched || editForm.submitted) && editstore_name.errors?.required">Store
                                    name
                                    can't be blank</span>

                                <span class="text-danger"
                                    *ngIf="editstore_name.invalid && (editstore_name.dirty || editstore_name.touched || editForm.submitted) && editstore_name.errors?.pattern">Store
                                    name
                                    can contain alphabets, digits, dot, hyphen or space only</span>

                                <span class="text-danger"
                                    *ngIf="editstore_name.invalid && (editstore_name.dirty || editstore_name.touched || editForm.submitted) && editstore_name.errors?.minlength">Store
                                    name should be at least 3 characters long</span>
                                <!-- </div>
</div> -->
                            </mat-form-field>

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                <input type="text" matInput id="txtEditarea" placeholder="Area" readonly="readonly"
                                    name="area" [(ngModel)]="editProject.area" minlength="3" maxlength="30"
                                    #editarea="ngModel">
                                <mat-label>Area</mat-label>
                                <!-- <mat-hint align="end">Up to 30 characters</mat-hint> -->
                                <!-- <mat-icon matPrefix>qr_code_scanner<span class="material-icons-outlined">
              </span></mat-icon> -->


                            </mat-form-field>



                        </div>



                    </div>

                    <!-- </div>  body modal-->


                    <div class="flex">
                        <div class="box-1">

                        </div>
                        <div class="box-2">

                        </div>

                    </div>

                    <mat-card>RECEIVING INFORMATION </mat-card>
                    <!-- Total Items  Prepared -->
                    <p class="w-100 hideObject">{{totalItemsPrepared}}</p>



                    <div class="flex">
                        <div class="box-1">

                            <!-- Start of Validation Sample using animal Grid View 2 -->

                            <mat-card style="width: 455px;">

                                <table class="table table-striped table-bordered nowrap table-responsive" id="GridView2">
                                    <thead>
                                        <tr>
                                            <!-- <th>III</th> -->
                                            <th>ID</th>
                                            <!-- <th>Code

                                            </th> -->

                                            <th>Description

                                            </th>

                                            <th>Uom


                                            </th>
                                            <th>Order
                                            </th>
                                            <th>Serve

                                            </th>
                               
                                            <th class="hideObject">Total Items

                                            </th>

                                            <th class="text-center hideObject">*</th>

                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr *ngFor="let project of WhRejectRemarks | async let a = index; count as c ">
                                            <!-- <td>{{a}}</td> -->
                                            <td>{{project.primary_id}}</td>
                                            <!-- <td>{{project.item_code}}</td> -->

                                            <td>{{project.description}}</td>
                                            <td>{{project.uom}}</td>

                                            <td>{{project.qty | number}}</td>

                                            <td>{{project.prepared_allocated_qty | number}}
                                            </td>

                                            <td class="hideObject">{{c | number}}
                                            </td>
                               

                                            <td class="text-center hideObject">




                                                <button mat-icon-button color="warn" (click)="onCancelClick($event, index, 
                                                    project.primary_id,
                                                     project.is_approved_prepa_date ,
                                                      project.item_code, project.description, 
                                                      project.prepared_allocated_qty, 
                                                      project.category)" data-toggle="modal"
                                                    data-target="#CancelledTransactionModal" data-backdrop="false"
                                                    data-keyboard="false">
                                                    <mat-icon>toggle_off</mat-icon>
                                                </button>&nbsp;

                                            </td>
                                           
                                        </tr>
                                       

                                    </tbody>

                                </table>



                               
                            </mat-card>



                            <!-- End of the Statement -->
                        </div>

                        <!-- <div class="box-2">


                        </div> -->
                    </div>


                    <!-- {{editForm.value | json}} -->




                </div>
<div>
   
</div>
                <div class="modal-footer hideObject">

                    <button mat-stroked-button color="primary" id="ApproveButton" class="mr-2" (click)="onUpdateClick()">Approve</button>
                    <!-- <button mat-stroked-button color="warn" data-dismiss="modal" id="editFormCancel">Cancel</button> -->

                </div>
            </div>
        </div>
    </div>



</form>


<!-- Deactivate Project -->
<form #editForm="ngForm" novalidate="novalidate" appClientLocationStatusValidator>
    <div class="modal" role="dialog" id="DeactivateModal" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content" style="width: auto;">
                <div class="modal-header bg-all">
                    <div class="modal-title white-color">RECEIVING CHECKLIST</div>
                    <button type="button" class="close" data-dismiss="modal"
                        #closeAddExpenseModal><span>&times;</span></button>
                </div>
                <div class="modal-body">

                    <mat-card>STORE INFORMATION


                    </mat-card>
                    <div class="flex">
                        <div class="box-1">

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">


                                <input type="text" matInput id="txtEditis_approved_prepa_date"
                                    placeholder="Checklist ID" name="is_approved_prepa_date" readonly="readonly"
                                    [(ngModel)]="editProject.is_approved_prepa_date" required="required"
                                    #editPrepaDate="ngModel"
                                    [ngClass]="{ 'is-invalid': editPrepaDate.invalid && (editPrepaDate.dirty || editPrepaDate.touched || newForm.submitted), 'is-valid': editPrepaDate.valid && (editPrepaDate.dirty || editPrepaDate.touched || newForm.submitted) }">
                                <mat-label>Preparation Date</mat-label>

                            </mat-form-field>

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                <input type="text" matInput id="txtEditcategory" placeholder="Category" name="category"
                                    [(ngModel)]="editProject.category" minlength="3" maxlength="30"
                                    pattern="^[A-Za-z0-9 /-]*$" #editcategory="ngModel"
                                    [ngClass]="{ 'is-invalid': editcategory.invalid && (editcategory.dirty || editcategory.touched || editForm.submitted), 'is-valid': editcategory.valid && (editcategory.dirty || editcategory.touched || editForm.submitted) }"
                                    readonly="readonly">
                                <mat-label>Category</mat-label>
                                <!-- <mat-hint align="end">Up to 30 characters</mat-hint> -->
                                <!-- <mat-icon matPrefix>qr_code_scanner<span class="material-icons-outlined">
                                </span></mat-icon> -->
                                <span class="text-danger"
                                    *ngIf="editcategory.invalid && (editcategory.dirty || editcategory.touched || editForm.submitted) && editcategory.errors?.required">Category
                                    can't be blank</span>

                                <span class="text-danger"
                                    *ngIf="editcategory.invalid && (editcategory.dirty || editcategory.touched || editForm.submitted) && editcategory.errors?.pattern">Category
                                    can contain alphabets, digits, dot, hyphen or space only</span>

                                <span class="text-danger"
                                    *ngIf="editcategory.invalid && (editcategory.dirty || editcategory.touched || editForm.submitted) && editcategory.errors?.minlength">Category
                                    should be at least 3 characters long</span>

                            </mat-form-field>

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                <input type="text" matInput id="txtEditroute" placeholder="Route" readonly="readonly"
                                    name="route" [(ngModel)]="editProject.route" minlength="3" maxlength="30"
                                    #editroute="ngModel">
                                <mat-label>Route</mat-label>


                            </mat-form-field>

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary" class="hideObject">
                                <input type="text" matInput id="txtEditis_wh_approved" placeholder="Is Approved"
                                    name="is_wh_approved" [(ngModel)]="editProject.is_wh_approved" minlength="1ng build"
                                    maxlength="30" #editis_wh_approved="ngModel">
                                <mat-label>Approval</mat-label>


                            </mat-form-field>


                            <mat-form-field floatLabel="auto" appearance="standard" color="primary" class="hideObject">
                                <input type="text" matInput id="txtEditis_wh_approved_by" placeholder="Approve By"
                                    name="is_wh_approved_by" [(ngModel)]="editProject.is_wh_approved_by" minlength="3"
                                    maxlength="30" #editis_wh_approved="ngModel">
                                <mat-label>Approve By</mat-label>


                            </mat-form-field>


                            <mat-form-field floatLabel="auto" appearance="standard" color="primary" class="hideObject">
                                <input type="text" matInput id="txtEditis_wh_approved_date" placeholder="Approve Date"
                                    name="is_wh_approved_date" [(ngModel)]="editProject.is_wh_approved_date"
                                    minlength="3" maxlength="30" #editis_wh_approved="ngModel">
                                <mat-label>Approve Date</mat-label>


                            </mat-form-field>



                        </div>

                        <!-- end of box 1-->

                        <div class="box-2">




                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">


                                <input type="text" matInput id="txtEditReceivingDate" value="{{ToDay | date : 'M/d/y'}}"
                                    readonly="readonly" placeholder="Receiving Date">
                                <mat-label>Receiving Date</mat-label>

                            </mat-form-field>



                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                <input type="text" matInput id="txtitem_description" placeholder="Store Name"
                                    name="store_name" [(ngModel)]="editProject.store_name" required="required"
                                    minlength="3" maxlength="30" pattern="^[A-Za-z0-9 /-]*$" #editstore_name="ngModel"
                                    [ngClass]="{ 'is-invalid': editstore_name.invalid && (editstore_name.dirty || editstore_name.touched || editForm.submitted), 'is-valid': editstore_name.valid && (editstore_name.dirty || editstore_name.touched || editForm.submitted) }"
                                    readonly="readonly">
                                <mat-label>Store Name</mat-label>

                                <span class="text-danger"
                                    *ngIf="editstore_name.invalid && (editstore_name.dirty || editstore_name.touched || editForm.submitted) && editstore_name.errors?.required">Store
                                    name
                                    can't be blank</span>

                                <span class="text-danger"
                                    *ngIf="editstore_name.invalid && (editstore_name.dirty || editstore_name.touched || editForm.submitted) && editstore_name.errors?.pattern">Store
                                    name
                                    can contain alphabets, digits, dot, hyphen or space only</span>

                                <span class="text-danger"
                                    *ngIf="editstore_name.invalid && (editstore_name.dirty || editstore_name.touched || editForm.submitted) && editstore_name.errors?.minlength">Store
                                    name should be at least 3 characters long</span>
                                <!-- </div>
</div> -->
                            </mat-form-field>

                            <mat-form-field floatLabel="auto" appearance="standard" color="primary">
                                <input type="text" matInput id="txtEditarea" placeholder="Area" readonly="readonly"
                                    name="area" [(ngModel)]="editProject.area" minlength="3" maxlength="30"
                                    #editarea="ngModel">
                                <mat-label>Area</mat-label>
                                <!-- <mat-hint align="end">Up to 30 characters</mat-hint> -->
                                <!-- <mat-icon matPrefix>qr_code_scanner<span class="material-icons-outlined">
              </span></mat-icon> -->


                            </mat-form-field>



                        </div>



                    </div>

                    <!-- </div>  body modal-->


                    <div class="flex">
                        <div class="box-1">

                        </div>
                        <div class="box-2">

                        </div>

                    </div>

                    <mat-card class="hideObject">RECEIVING INFORMATION </mat-card>
                    <!-- Total Items  Prepared -->
                  



                    <div class="flex hideObject">
                        <div class="box-1">

                            <!-- Start of Validation Sample using animal -->

                            <mat-card style="width: 455px;">

                                <table class="table table-striped table-bordered nowrap table-responsive" id="GridView3">
                                    <thead>
                                        <tr>
                                            <!-- <th>III</th> -->
                                            <th>ID</th>
                                            <!-- <th>Code

                                            </th> -->

                                            <th>Description

                                            </th>

                                            <th>Uom


                                            </th>
                                            <th>Order
                                            </th>
                                            <th>Serve

                                            </th>
                               


                                            <th class="text-center">*</th>

                                        </tr>
                                    </thead>
                                    <!-- *ngFor="let project of WhRejectRemarks | async | filter:  searchByItems : searchText | paging : currentPageIndex :   pageSizeItemList; let a = index"> -->
                                    <tbody>
                                        <tr *ngFor="let project of WhRejectRemarks | async let a = index; count as c ">
                                            <!-- <td>{{a}}</td> -->
                                            <td>{{project.primary_id}}</td>
                                            <!-- <td>{{project.item_code}}</td> -->

                                            <td>{{project.description}}</td>
                                            <td>{{project.uom}}</td>

                                            <td>{{project.qty | number}}</td>

                                            <td>{{project.prepared_allocated_qty | number}}
                                            </td>
                               

                                            <td class="text-center">




                                                <button mat-icon-button color="warn" (click)="onCancelClick($event, index, 
                                                    project.primary_id,
                                                     project.is_approved_prepa_date ,
                                                      project.item_code, project.description, 
                                                      project.prepared_allocated_qty, 
                                                      project.category)" data-toggle="modal"
                                                    data-target="#CancelledTransactionModal" data-backdrop="false"
                                                    data-keyboard="false">
                                                    <mat-icon>toggle_off</mat-icon>
                                                </button>&nbsp;

                                            </td>
                                           
                                        </tr>
                                    

                                    </tbody>

                                </table>

                              

                               
                            </mat-card>



                            <!-- End of the Statement -->
                        </div>

                        <!-- <div class="box-2">


                        </div> -->
                    </div>


                    <!-- {{editForm.value | json}} -->




                </div>
<div>
   
</div>
                <div class="modal-footer">

                    <button mat-stroked-button color="primary" id="ApproveButton" class="mr-2" (click)="onUpdateClick()">Dis-Approve</button>
                    <!-- <button mat-stroked-button color="warn" data-dismiss="modal" id="editFormCancel">Cancel</button> -->

                </div>
            </div>
        </div>
    </div>



</form>



<!-- Cancelled PO Project -->
<!-- <form #editForm="ngForm" novalidate="novalidate" appClientLocationStatusValidator></form> -->
<form #cancelForm="ngForm" novalidate="novalidate">
    <div class="modal" role="dialog" id="CancelledTransactionModal" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog">
            <div class="modal-content" style="width:auto">
                <div class="modal-header bg-all">
                    <div class="modal-title white-color">PREPARED ITEM(S) RECEIVING</div>
                    <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
                </div>
                <div class="modal-body">


                    <mat-form-field class="w-100" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCancelPrimaryID" placeholder="Primary Identity"
                            name="primary_id" [(ngModel)]="editProject.primary_id" readonly="readonly">
                        <mat-label>Identity</mat-label>

                    </mat-form-field>

                    <mat-form-field class="w-100" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCancelPreparationDate" placeholder="Preparation Date"
                            name="is_approved_prepa_date" [(ngModel)]="editProject.is_approved_prepa_date"
                            readonly="readonly" #PONumber>
                        <mat-label>Preparation Date</mat-label>
   
                    </mat-form-field>

                    <mat-form-field class="w-100" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCancelItemCode" placeholder="Item Code" name="item_code"
                            [(ngModel)]="editProject.item_code" readonly="readonly">
                        <mat-label>Item Code</mat-label>

                    </mat-form-field>


                    <mat-form-field class="w-100" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCancelDescription" placeholder="Description"
                            name="description" [(ngModel)]="editProject.description" readonly="readonly"
                            #ItemDescription>
                        <mat-label>Item Description</mat-label>

                    </mat-form-field>


                    <mat-form-field class="w-100" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCancelQuantity" placeholder="Quantity"
                            name="prepared_allocated_qty" [(ngModel)]="editProject.prepared_allocated_qty"
                            readonly="readonly" #ServeQuantity>
                        <mat-label>Quantity</mat-label>

                    </mat-form-field>

                    <mat-form-field class="w-100 hideObject" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCancelis_wh_checker_cancel" placeholder="Cancel Status"
                            name="is_wh_checker_cancel" [(ngModel)]="editProject.is_wh_checker_cancel"
                            readonly="readonly">
                        <mat-label>Cancel Status Bolean</mat-label>

                    </mat-form-field>

                    <mat-form-field class="w-100 hideObject" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCancelis_wh_checker_cancel_by" placeholder="Cancel By"
                            name="is_wh_checker_cancel_by" [(ngModel)]="editProject.is_wh_checker_cancel_by"
                            readonly="readonly">
                        <mat-label>Cancel By</mat-label>

                    </mat-form-field>

                    <mat-form-field class="w-100 hideObject" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCancelis_wh_checker_cancel_date" placeholder="Cancel Date"
                            name="is_wh_checker_cancel_date" [(ngModel)]="editProject.is_wh_checker_cancel_date"
                            readonly="readonly">
                        <mat-label>Cancel Date</mat-label>

                    </mat-form-field>

                    <mat-form-field class="w-100 hideObject" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCanceldispossal_status" placeholder="Dispossal Status"
                            name="dispossal_status" [(ngModel)]="editProject.dispossal_status" readonly="readonly">
                        <mat-label>Dispossal Status</mat-label>

                    </mat-form-field>

                    <mat-form-field class="w-100" floatLabel="auto" appearance="standard" color="primary">
                        <input type="text" matInput id="txtCancelCategory" placeholder="Category" name="category"
                            [(ngModel)]="editProject.category" readonly="readonly">
                        <mat-label>Category</mat-label>

                    </mat-form-field>



                    <br>
                    <mat-form-field appearance="fill" class="w-100">
                        <mat-label>Reason</mat-label>
                        <mat-select [(ngModel)]="editProject.is_wh_checker_cancel_reason"
                            name="is_wh_checker_cancel_reason" required>
                            <mat-option *ngFor="let status of CancelPoSummary | async" [value]="status.status_name">
                                {{status.status_name}}

                            </mat-option>
                        </mat-select>
                    </mat-form-field>



                    <p *ngFor="let status of ProjectsAllowableQty | async" [value]="status.actual_delivery">
                        <emp class="system-name">List of Item for Receiving {{totalPartialReceivingCancel}}</emp>
                        <mat-form-field class="w-100" floatLabel="auto" appearance="standard" color="primary">

                            <input type="text" matInput value="{{status.actual_delivery}}" id="ActivePartialReceiving"
                                #ActivePartialReceiving disabled="disabled">

                            <mat-label>Item Quantity</mat-label>
                            <mat-hint align="end">Receiving Transaction</mat-hint>
                            <mat-icon matPrefix>shopping_cart<span class="material-icons-outlined">
                                </span>
                            </mat-icon>
                        </mat-form-field>

                    </p>

                </div>
                <!-- {{cancelForm.value | json }} -->

                <div class="modal-footer">
                    <!-- <button mat-stroked-button color="accent" data-dismiss="modal" class="mr-2">Cancel<mat-icon>free_cancellation</mat-icon></button> -->
                    <button mat-stroked-button color="warn" class="{{PartialComment}}" data-dismiss="modal"
                        (click)=" CancelledPoDetails()">Cancel<mat-icon>toggle_off</mat-icon></button>
                </div>
            </div>
        </div>
    </div>
</form>